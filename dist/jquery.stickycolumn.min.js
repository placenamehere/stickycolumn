/*
 *  jQuery Stickycolumn - v0.9
 *  A jQuery plugin to do something like position sticky, with constraints
 *  https://github.com/placenamehere/stickycolumn
 *
 *  Made by Chris Casciano
 *  Under MIT License
 */
!function(a){a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return d&&"static"===b.css("position")?!1:e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)}})}(jQuery),function(a,b){function c(b,c){this.element=b,this.options=a.extend({},e,c),this._defaults=e,this._name=d,this.initialized=!1,this.useSticky=!0,this.resize_event,this.doMaths=function(a){var b=a.scrollParent(),c=a.parent(),d={parentStart:0,parentEnd:0,safeH:0,start:0,end:0};return d.parentStart=c.offset().top+b.scrollTop()-("undefined"!=typeof b.offset()?b.offset().top:0),d.parentEnd=d.parentStart+c.height(),d.safeH=this.getContentHeight(a)+this.getViewportTop(),d.start=d.parentStart-this.getViewportTop(),d.end=d.parentEnd-this.getContentHeight(a)-this.getViewportTop(),d},this.updatePosition=function(a,b){var c=a.scrollParent(),d=c.scrollTop();c.height()<b.safeH?(this.useSticky||a.css("top",0),a.removeClass(this.options.prefix+"-active")):(this.useSticky||(d<b.start?a.css("top",0):d>b.end?a.css("top",b.end-b.start):a.css("top",d-b.start)),a.addClass(this.options.prefix+"-active"))},this.getContentHeight=function(a){return a.height()+this.getContentPadding()},this.getContentPadding=function(){return"function"==typeof this.options.contentPadding?this.options.contentPadding.call():this.options.contentPadding},this.getViewportTop=function(){return"function"==typeof this.options.viewportTop?this.options.viewportTop.call():this.options.viewportTop},this.getContainerBottom=function(){return"function"==typeof this.options.containerBottom?this.options.containerBottom.call():this.options.containerBottom},this.init()}var d="stickycolumn",e={contentPadding:0,viewportTop:0,containerBottom:0,prefix:"sc"};c.prototype={init:function(){var c,d,e=this,f=a(e.element),g=f.scrollParent();e.initialized||(e.initialized=!0,c=a("<div></div>"),c.css("position","fixed"),c.css("position","-webkit-sticky"),c.css("position","sticky"),-1!==c.css("position").indexOf("sticky")?e.useSticky=!0:(f.parent().addClass(e.options.prefix+"-fixedcontainer"),e.useSticky=!1),d=e.doMaths(f),e.updatePosition(f,d),e.useSticky||a(g).on("scroll.stickycolumn",function(){d=e.doMaths(f),e.updatePosition(f,d)}),a(b).on("resize.stickycolumn",function(){d=e.doMaths(f),e.updatePosition(f,d)}))},update:function(){var b,c=this,d=a(c.element);b=c.doMaths(d),c.updatePosition(d,b)},setOptions:function(b){var c,d=this,e=a(d.element);d.options=a.extend({},d.options,b),c=d.doMaths(e),d.updatePosition(e,c)},destroy:function(){var c=this,d=a(c.element);a(b).off("scroll.stickycolumn"),a(b).off("resize.stickycolumn"),d.removeClass(c.options.prefix+"-active"),d.parent().removeClass(c.options.prefix+"-fixedcontainer"),d.removeData(c.options.prefix+"OffsetTopStart").removeData("plugin_"+c._name)}},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window,document);
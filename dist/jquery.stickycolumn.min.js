/*
 *  jQuery Stickycolumn - v0.8
 *  A jQuery plugin to do something like position sticky, with constraints
 *  https://github.com/placenamehere/stickycolumn
 *
 *  Made by Chris Casciano
 *  Under MIT License
 */
!function(a,b,c){function d(d,g){this.element=d,this.options=a.extend({},f,g),this._defaults=f,this._name=e,this.initialized=!1,this.useSticky=!0,this.resize_event,this.doMaths=function(a){var b=a.parent(),c={offsetTopStart:0,safeH:9,start:0,end:0};return c.offsetTopStart=b.offset().top,c.safeH=a.height()+c.offsetTopStart,c.start=c.offsetTopStart-this.getViewportTop(),c.end=b.height()+b.offset().top-a.height()-this.getViewportTop()-this.getContainerBottom()-this.getContentPadding(),c},this.updatePosition=function(d,e){var f=a(b).height(),g=b.pageYOffset||c.documentElement.scrollTop;f<e.safeH?(this.useSticky||d.css("top",0),d.removeClass(this.options.prefix+"-active")):(this.useSticky||(g<e.start?d.css("top",e.offsetTopStart-g):g>e.end?d.css("top",e.offsetTopStart+e.end-g-e.start):d.css("top",e.offsetTopStart-e.start)),d.addClass(this.options.prefix+"-active"))},this.getContentPadding=function(){return"function"==typeof this.options.contentPadding?this.options.contentPadding.call():this.options.contentPadding},this.getViewportTop=function(){return"function"==typeof this.options.viewportTop?this.options.viewportTop.call():this.options.viewportTop},this.getContainerBottom=function(){return"function"==typeof this.options.containerBottom?this.options.containerBottom.call():this.options.containerBottom},this.init()}var e="stickycolumn",f={contentPadding:0,viewportTop:0,containerBottom:0,prefix:"sc"};d.prototype={init:function(){var c,d,e=this,f=a(e.element);e.initialized||(e.initialized=!0,c=a("<div></div>"),c.css("position","fixed"),c.css("position","-webkit-sticky"),c.css("position","sticky"),-1!==c.css("position").indexOf("sticky")?e.useSticky=!0:(f.parent().addClass(e.options.prefix+"-fixedcontainer"),e.useSticky=!1),d=e.doMaths(f),e.updatePosition(f,d),e.useSticky||a(b).on("scroll.stickycolumn",function(){d=e.doMaths(f),e.updatePosition(f,d)}),a(b).on("resize.stickycolumn",function(){d=e.doMaths(f),e.updatePosition(f,d)}))},update:function(){var b,c=this,d=a(c.element);b=c.doMaths(d),c.updatePosition(d,b)},setOptions:function(b){var c,d=this,e=a(d.element);d.options=a.extend({},d.options,b),c=d.doMaths(e),d.updatePosition(e,c)},destroy:function(){var c=this,d=a(c.element);a(b).off("scroll.stickycolumn"),a(b).off("resize.stickycolumn"),d.removeClass(c.options.prefix+"-active"),d.parent().removeClass(c.options.prefix+"-fixedcontainer"),d.removeData(c.options.prefix+"OffsetTopStart").removeData("plugin_"+c._name)}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);